{% include 'blades/header.html' %}
<div class="wrapper row">
    {{ sidebar('User', 'user.png') | safe }}
    <main class="w-100">
        {{ header_title('Dashboard Overview') | safe }}
        <section class="dashboard m-30 mb-30">    
            <input type="hidden" id="mal" value="44">
            <input type="hidden" id="bom" value="55">
            <input type="hidden" id="sem_resposta" value="27">
            {{ welcome_card('User', 'dashboard') | safe }}
            <section id="daily-record" class="card col relative">
                <h2 class="title">Registro Diário</h2>
                <div id="g-daily" class="mt-30 relative"></div>
            </section>
            {{ annual_record(50, 180, 20) | safe }}
            {{ monthly_record(50, 180, 20) | safe }}
            <section class="single-cards">
                <section id="form-answers" class="card">
                    <div class="row w-auto space-between">
                        <h2 class="title">Respostas do Formulário</h2>
                        <span class="formIcon icon"></span>
                    </div>
                    <div class="row w-auto space-evenly w-80">
                        <div class="col center">
                            <h2 class="subtitle">
                                Responderam
                            </h2>
                            <p id="amountAnswers" class="amount">231</p>
                        </div>
                        <div class="col center">
                            <h2 class="subtitle">
                                Sem Resposta
                            </h2>
                            <p id="no-reply" class="amount">29</p>
                        </div>
                    </div>
                </section>
                <section id="patients-active" class="card">
                    <div class="row w-100 space-between">
                        <h2 class="title">Pacientes Ativos</h2>
                        <span class="checkIcon icon"></span>
                    </div>
                    <div class="row w-auto w-80">
                        <div class="col center">
                            <p id="amountPatientsActive" class="amount">250</p>
                            <p class="subtitle">nesta semana</p>
                        </div>
                    </div>
                </section>
                <section id="patients-new" class="card">
                    <div class="row w-100 space-between">
                        <h2 class="title">Pacientes Novos</h2>
                        <span class="newUsersIcon icon"></span>
                    </div>
                    <div class="row w-auto w-80">
                        <div class="col center">
                            <p id="amountPatientsActive" class="amount">3</p>
                            <p class="subtitle">nesta semana</p>
                        </div>
                    </div>
                </section>
                <section id="patients-crisis" class="card">
                    <div class="header">
                        <div class="row space-between">
                            <h2 class="title">Pacientes em Crise</h2>
                            <span class="cautionIcon icon"></span>
                        </div>
                        <div class="row w-100 space-between relative">
                            <div class="col w-80 center">
                                <p id="amountPatientsActive" class="amount">2</p>
                                <p class="subtitle">hoje</p>
                            </div>
                            <span id="accordion" class="arrowIcon"></span>
                        </div>
                    </div>
                    <div id="accordion-content" class="d-none">
                        <div class="panel_resolvidas">
                            <div class="row space-between vertical-center">
                                <hgroup class="horizontal-start">
                                    <h2 class="title">Crises resolvidas</h2>
                                    <h3 class="subtitle">nesta semana</h3>
                                </hgroup>
                                <p class="amount">3</p>
                            </div>
                            <div class="row center space-around">
                                <p>65%</p>
                                <div class="progress-bar w-80">
                                    <div class="progress" style="width:65%;"></div>
                                </div>
                            </div>
                        </div>
                        <div class="panel_pendentes mt-20">
                            <div class="row space-between">
                                <hgroup>
                                    <h2 class="title">Pendentes</h2>
                                    <h3 class="subtitle">pacientes ainda em crise</h3>
                                </hgroup>
                                <p class="amount">5</p>
                            </div>
                            <div class="row center space-around">
                                <p>65%</p>
                                <div class="progress-bar w-80">
                                    <div class="progress" style="width:65%;"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
            </section>
        </section>
    </main>
</div>
<script>
    const accordionButton = document.getElementById('accordion');
    const accordionContent = document.getElementById('accordion-content');
    const patientsCrisis = document.getElementById('patients-crisis');

    accordionButton.addEventListener('click', function(){
        accordionContent.classList.toggle('d-none');
        patientsCrisis.classList.toggle('h-100');
        accordionButton.classList.toggle('deg-180')
    });
</script>
<script src="{{ url_for('static', filename='js/dashboard.js') }}"></script>
{% include 'blades/footer.html' %}